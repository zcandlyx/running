(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/step/index"],{"39f6":function(e,t,a){},"521e":function(e,t,a){"use strict";a.r(t);var n=a("e7e8"),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},"605f":function(e,t,a){"use strict";(function(e){a("10c2");n(a("66fd"));var t=n(a("ac55"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])},9088:function(e,t,a){"use strict";var n=a("39f6"),o=a.n(n);o.a},ac55:function(e,t,a){"use strict";a.r(t);var n=a("dcb2"),o=a("521e");for(var i in o)"default"!==i&&function(e){a.d(t,e,(function(){return o[e]}))}(i);a("9088");var c,r=a("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],c);t["default"]=s.exports},dcb2:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n}));var o=function(){var e=this,t=e.$createElement;e._self._c},i=[]},e7e8:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=r(a("a34a")),i=(r(a("e2e9")),r(a("0b39"))),c=a("94ff");function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t,a,n,o,i,c){try{var r=e[i](c),s=r.value}catch(u){return void a(u)}r.done?t(s):Promise.resolve(s).then(n,o)}function u(e){return function(){var t=this,a=arguments;return new Promise((function(n,o){var i=e.apply(t,a);function c(e){s(i,n,o,c,r,"next",e)}function r(e){s(i,n,o,c,r,"throw",e)}c(void 0)}))}}var l={},d={},f={data:function(){return{cWidth:"",cHeight:"",pixelRatio:1,serverData:"",chartData:{categories:[],series:[{name:"最近一月运动步数",data:[]}],type:"column"},chartDataWeek:{categories:[],series:[{name:"最近一周运动步数",data:[]}],type:"column"}}},methods:{showColumn:function(e,t,a){a?(console.log(e,t),l=new i.default({$this:n,canvasId:e,type:t.type,colors:["#8dc63f"],legend:{show:!0},fontSize:11,background:"#FFFFFF",pixelRatio:n.pixelRatio,animation:!0,categories:t.categories,series:t.series,xAxis:{disableGrid:!0},yAxis:{},dataLabel:!0,width:n.cWidth*n.pixelRatio,height:n.cHeight*n.pixelRatio,extra:{column:{type:"group",width:n.cWidth*n.pixelRatio*.45/t.categories.length}}})):(console.log(e,t),d=new i.default({$this:n,canvasId:e,type:t.type,colors:["#8dc63f"],legend:{show:!0},fontSize:11,background:"#FFFFFF",pixelRatio:n.pixelRatio,animation:!0,categories:t.categories,series:t.series,xAxis:{disableGrid:!0},yAxis:{},dataLabel:!0,width:n.cWidth*n.pixelRatio,height:n.cHeight*n.pixelRatio,extra:{column:{type:"group",width:n.cWidth*n.pixelRatio*.45/t.categories.length}}}))},touchColumn:function(e){d.showToolTip(e,{format:function(e,t){return"object"===typeof e.data?t+" "+e.name+":"+e.data.value:t+" "+e.name+":"+e.data}})},touchColumnWeek:function(e){l.showToolTip(e,{format:function(e,t){return"object"===typeof e.data?t+" "+e.name+":"+e.data.value:t+" "+e.name+":"+e.data}})},getStep:function(){var t;try{e.getProvider({service:"oauth",success:function(a){console.log(a.provider),~a.provider.indexOf("weixin")&&e.login({success:function(e){e.code?(t=e.code,wx.getWeRunData({success:function(e){return u(o.default.mark((function a(){var i;return o.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.code=t,a.next=3,(0,c.getStep)(e);case 3:if(i=a.sent,0!==i.status){a.next=11;break}i.data.stepInfoList.map((function(e,t){var a=new Date;a.setTime(1e3*e.timestamp),console.log(a.getDate()),t%5===0&&(n.chartData.categories.push(a.getMonth()+1+"-"+a.getDate()),n.chartData.series[0].data.push(e.step)),t>23&&(n.chartDataWeek.categories.push(a.getMonth()+1+"-"+a.getDate()),console.log(a.getDate(),e.step),n.chartDataWeek.series[0].data.push(e.step))})),console.log(n.chartData.categories,n.chartData.series[0].data),n.showColumn("canvasColumn",n.chartData,""),n.showColumn("canvasColumn2",n.chartDataWeek,1),a.next=12;break;case 11:throw new Error("解密失败");case 12:case"end":return a.stop()}}),a)})))()}})):console.log("登录失败！"+e.errMsg)}})}})}catch(a){console.log(a),e.showToast({title:"系统异常",icon:"none"})}}},created:function(){this.getStep()},onShow:function(){n=this,this.cWidth=e.upx2px(750),this.cHeight=e.upx2px(500)}};t.default=f}).call(this,a("543d")["default"])}},[["605f","common/runtime","common/vendor"]]]);