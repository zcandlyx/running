(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/setting/index"],{"24b0":function(e,t,n){"use strict";var r=n("7052"),o=n.n(r);o.a},5617:function(e,t,n){"use strict";(function(e){n("10c2");r(n("66fd"));var t=r(n("792c"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},6195:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var r={neilModal:function(){return n.e("components/neil-modal/neil-modal").then(n.bind(null,"ef59"))}},o=function(){var e=this,t=e.$createElement;e._self._c},a=[]},7052:function(e,t,n){},"792c":function(e,t,n){"use strict";n.r(t);var r=n("6195"),o=n("f62c");for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("24b0");var c,i=n("f0c5"),u=Object(i["a"])(o["default"],r["b"],r["c"],!1,null,"04bf3f4e",null,!1,r["a"],c);t["default"]=u.exports},"7ab3":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n("a34a")),o=n("2f62"),a=n("3a55");function c(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r,o,a,c){try{var i=e[a](c),u=i.value}catch(s){return void n(s)}i.done?t(u):Promise.resolve(u).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,u,"next",e)}function u(e){i(a,r,o,c,u,"throw",e)}c(void 0)}))}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={data:function(){return{list:[],show:!1,scrollTop:0,hasMore:!0,params:{limit:10,page:0}}},computed:l({},(0,o.mapState)("user",{userInfo:function(e){return e.userInfo}})),created:function(){this.init()},methods:{changeBg:function(t){var n=this;return u(r.default.mark((function o(){var c;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n.userInfo.nickName){r.next=2;break}return r.abrupt("return",n.show=!0);case 2:return r.prev=2,r.next=5,(0,a.changeBg)({id:n.userInfo._id,src:t});case 5:c=r.sent,0===c.status?(e.showToast({title:"设置成功"}),n.$store.commit("bg/SET_HOME_BG",t),setTimeout((function(){e.reLaunch({url:"../../home/index"})}),1e3)):e.showToast({title:"设置失败",icon:"none"}),r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](2),e.showToast({title:"系统异常",icon:"none"}),console.log(r.t0);case 13:case"end":return r.stop()}}),o,null,[[2,9]])})))()},init:function(){var t=this;return u(r.default.mark((function n(){var o;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.hasMore){n.next=2;break}return n.abrupt("return",e.showToast({title:"没有更多了",icon:"none"}));case 2:return n.prev=2,n.next=5,(0,a.getBg)(t.params);case 5:if(o=n.sent,0!==o.status){n.next=12;break}if(0!==o.data.length){n.next=9;break}return n.abrupt("return");case 9:o.data.forEach((function(e){t.list.push(e)})),t.params.page++,o.data.length<t.params.limit?t.hasMore=!1:t.hasMore=!0;case 12:n.next=18;break;case 14:n.prev=14,n.t0=n["catch"](2),e.showToast({title:"系统异常",icon:"none"}),console.log(n.t0);case 18:case"end":return n.stop()}}),n,null,[[2,14]])})))()},downLoad:function(t){try{e.downloadFile({url:t,success:function(t){console.log(t),200===t.statusCode&&e.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(){console.log("save success")}})},fail:function(t){e.showToast({title:"下载失败"}),console.log(t)}})}catch(n){e.showToast({title:"下载失败"}),console.log(n)}},previewImage:function(t){e.previewImage({urls:[t],longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(e){console.log("选中了第"+(e.tapIndex+1)+"个按钮,第"+(e.index+1)+"张图片")},fail:function(e){console.log(e.errMsg)}}})},closeModal:function(){this.show=!1},bindBtn:function(t){t&&e.switchTab({url:"../index"})},lower:function(){this.init()}}};t.default=d}).call(this,n("543d")["default"])},f62c:function(e,t,n){"use strict";n.r(t);var r=n("7ab3"),o=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=o.a}},[["5617","common/runtime","common/vendor"]]]);